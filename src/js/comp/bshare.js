!function(){var e=!window.XMLHttpRequest;var t={divObj:null,_coverTime:null,_coverRe:function(){if(document.body.offsetHeight<document.documentElement.clientHeight){this.divObj.style.width=document.body.clientWidth+"px";this.divObj.style.height=document.documentElement.clientHeight+"px"}else{this.divObj.style.width=document.body.clientWidth+"px";this.divObj.style.height=document.body.clientHeight+"px"}},isIE:navigator.appVersion.indexOf("MSIE")!=-1?true:false,on:function(e){var t=this;if(this.divObj==null){this.divObj=document.createElement("div");this.divObj.style.zIndex=9900;this.divObj.style.left="0px";this.divObj.style.top="0px";this.divObj.style.position="absolute";this.divObj.style.backgroundColor="#000";if(this.isIE){var i=document.createElement("iframe");i.style.filter="Alpha(Opacity=0)";i.frameBorder=0;i.scrolling="no";i.style.width="100%";i.style.height="100%";this.divObj.appendChild(i);this.divObj.style.filter="Alpha(Opacity=30)"}else{this.divObj.style.opacity=.3}document.body.appendChild(this.divObj)}if(document.body.offsetHeight<document.documentElement.clientHeight){this.divObj.style.width=document.body.clientWidth+"px";this.divObj.style.height=document.documentElement.clientHeight+"px"}else{this.divObj.style.width=document.body.clientWidth+"px";this.divObj.style.height=document.body.clientHeight+"px"}this.divObj.style.display="block";clearInterval(this._coverTime);this._coverTime=setInterval(function(){t._coverRe()},50)},off:function(e){if(this.divObj){this.divObj.style.display="none"}clearInterval(this._coverTime)}};var i;function n(e){return document.getElementById(e)}function a(e,t){if(t==null)t=document;if(t.getElementsByClassName){return t.getElementsByClassName(e)}else{return function i(e,t){var i=[],n=t.getElementsByTagName("*"),a=n.length,l=new RegExp("(^|\\s)"+e+"(\\s|$)"),s,o;for(s=0,o=0;s<a;s++){if(l.test(n[s].className)){i[o]=n[s];o++}}return i}(e,t)}}function l(e){var t=/([\*a-zA-Z1-6]*)?(\[(\w+)\s*(\^|\$|\*|\||~|!)?=?\s*([\w\u00C0-\uFFFF\s\-_\.]+)?\])?/,i=arguments[1]||document,n=e.match(t),t=n[1]||"*",a=n[3],l=n[4]+"=",s=n[5],o={"class":"className","for":"htmlFor"},r=[],c=t==="*"&&i.all?i.all:i.getElementsByTagName(t),d=c.length;if(!!document.querySelectorAll&&l!="!="){c=document.querySelectorAll(e);for(var u=0,d=c.length;u<d;u++){r.push(c[u])}return r}if(!+"1")a=o[a]?o[a]:a;while(--d>=0){var h=c[d],p=!+"1"?h[a]:h.getAttribute(a);if(typeof p==="string"&&p.length>0){if(!!s){var m=l==="="?p===s:l==="!="?p!=s:l==="*="?p.indexOf(s)>=0:l==="~="?(" "+p+" ").indexOf(s)>=0:l==="^="?p.indexOf(s)===0:l==="$="?p.slice(-s.length)===s:l==="|="?p===s||p.substring(0,s.length+1)===s+"-":false;m&&r.push(h)}else{r.push(h)}}}return r}function s(e,t){var i=[];var n=[];i=document.getElementsByTagName("meta");if(document.querySelectorAll){return document.getElementsByTagName("head")[0].querySelectorAll("["+e+"="+t+"]")}for(var a=0;a<i.length;a++){if(e=="class"){var l=new RegExp("(^| )"+t+"( |$)");if(i[a].className.match(l))n.push(i[a])}else if(i[a].getAttribute(e)==t)n.push(i[a])}return n}function o(e,t,i){if(e.addEventListener)e.addEventListener(t,i,false);else if(e.attachEvent){e["e"+t+i]=i;e[t+i]=function(){e["e"+t+i](window.event)};e.attachEvent("on"+t,e[t+i])}}function r(e,t){var i=new RegExp("(^| )"+t+"( |$)");return i.test(e.className)}function c(e,t){var i=new RegExp("(^| )"+t+"( |$)");if(t){e.className=e.className.replace(i," ").replace(/^\s+|\s+$/g,"")}else{e.className=""}}function d(e,t){if(!r(e,t)){e.className+=" "+t}}function u(e){t.on();if(!i){i=document.createElement("div");i.className="popup_share_w";o(i,"click",function(e){var e=e||window.event;var t=e.target||e.srcElement;if(r(t,"popup_share_close")){h()}});document.body.appendChild(i)}i.innerHTML=e.inner;p(e)}function h(e){t.off();m(e);i.innerHTML=""}function p(e){var t=Math.max(document.documentElement.scrollTop,document.body.scrollTop);var n=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);var a=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.offsetHeight;var l=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.offsetWidth;var s,o;s=a>560?t+(a-560)/2:t+20;o=l>560?n+(l-560)/2:n;i.style.top=s+"px";i.style.left=o+"px";i.style.display="block";d(i,"sharePopUp")}function m(e){if(i){i.style.display="none";c(i,"sharePopUp")}}function f(e,t){var i=e.parentNode;var n=a("tip_weixin",i)[0];if(!n){n=document.createElement("div");n.className="tip_weixin";n.innerHTML='<iframe frameborder="0" class="tip_weixin_ifm" style="width:232px;height:115px;position:absolute;left:0;filter:Alpha(opacity=0);opacity:0;border:none"></iframe><img src="'+t+"weixin"+'" alt="" class="weixin_qr" /><span class="tip_weixin_close" suda-uatrack="key=menhu_weixin_share&value=weixin_layer_close"></span><p class="weixin_qr_intro">用微信扫描二维码<br />分享至好友和朋友圈</p>';o(n,"click",function(e){var e=e||window.event;var t=e.target||e.srcElement;if(r(t,"tip_weixin_close")){v(n)}});i.appendChild(n)}if(r(n,"weixinPullUp")){n.style.display="none";c(n,"weixinPullUp")}else{n.style.display="block";d(n,"weixinPullUp")}}function v(e){if(e){e.style.display="none";c(e,"weixinPullUp")}}function y(e,t){var i,n,a;var l=e.getAttribute("h5qr");if(l)return l;if(t){n=t;a="http://comet.blog.sina.com.cn/qr?"+decodeURIComponent(n)}else{try{i=document.querySelectorAll?s("http-equiv","mobile-agent")[0].getAttribute("content"):s("httpEquiv","mobile-agent")[0].getAttribute("content")}catch(o){throw new Error("缺少带mobile link信息的meta标签")}n=i.substring(i.indexOf("url=")+4);a="http://comet.blog.sina.com.cn/qr?"+decodeURIComponent(n)}if(a.indexOf("?")>0){a=a+"&fromsinaweb="}else{a=a+"?fromsinaweb="}e.setAttribute("h5qr",a);return a}function w(e,t){var i=typeof e==="object"?e:n(e);var l=a("share_weimi",i)[0];var s=a("share_laiwang",i)[0];var r=a("share_weixin",i)[0];var c=y(i,t);if(l){o(l,"click",function(e){u({inner:'                        <iframe style="width:560px;height:560px;position:absolute;left:0;filter:Alpha(opacity=0);opacity:0;border:none"></iframe>                        <div class="popup_share">                            <span class="popup_share_close" suda-uatrack="key=menhu_weimi_share&value=weimi_layer_close"></span>                            <div class="popup_share_tt">                                <h4>微米分享</h4>                                <p>请前往<a href="http://www.weimi.me/" target="_blank" suda-uatrack="key=menhu_weimi_share&value=weimi_layer_url">www.weimi.me</a>下载微米客户端</p>                            </div>                            <div class="popup_share_c">                                <div class="popup_share_bg">                                    <img src="'+c+"weimi"+'" alt="">                                </div>                            </div>                        </div>'})})}if(s){o(s,"click",function(e){u({inner:'                        <iframe style="width:560px;height:560px;position:absolute;left:0;filter:Alpha(opacity=0);opacity:0;border:none"></iframe>                        <div class="popup_share" style="width:560px;height:560px;position:absolute;left:0">                            <span class="popup_share_close" suda-uatrack="key=menhu_laiwang_share&value=laiwang_layer_close"></span>                            <div class="popup_share_tt">                            <h4>来往分享</h4>                            <p>请前往<a href="http://www.laiwang.com/" target="_blank" suda-uatrack="key=menhu_laiwang_share&value=laiwang_layer_url">www.laiwang.com</a>下载来往客户端</p>                            </div>                            <div class="popup_share_c">                              <div class="popup_share_bg popup_share_lw_bg">                                  <img src="'+c+"laiwang"+'" alt="">                              </div>                            </div>                        </div>'})})}if(r){o(r,"click",function(e){f(r,c)})}}function g(){var e=l("[bshareupdate]");var t=e.length;var i;for(var n=0;n<t;n++){i=e[n].getAttribute("data-mburl");w(e[n],i)}}window.bShareUpdate=g}();